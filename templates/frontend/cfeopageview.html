{% extends "frontend/uimaster.html" %}

{% block javascript %}
    <script src="{{ STATIC_URL }}assets/js/slick.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}assets/js/pageview.js"></script>
{% endblock %}

{% block stylesheet %}
    {{ block.super }}
    <link rel="stylesheet" href="/static/assets/s/OpenLayers/theme/default/style.css"
          type="text/css">
    <link rel="stylesheet" href="/static/assets/c/bareditor.css" type="text/css">
{% endblock %}

{% block content %}
    <section class="main content-section page-view">

        <div class="row">

            <div class="large-12 columns">

                <nav class="tab-bar">

                    <section class=" tab-bar-section">
                        <ul class="left inline-list contextual-menu">
                            <li>
                                <div class="menu-item opus-title"><a href="/ocve/ui/workinformation/{{ work.id }}/"
                                                                     class="ctrl more"
                                                                     data-tooltip
                                                                     title="Work overview">{{ work }}</a>, <a
                                        href="#" class="ctrl more" data-tooltip
                                        title="Witness overview">{{ source.getAcCode }}</a>, Page {{ page.label }}
                                    {% if pageimage.startbar != '0' or pageimage.endbar != '0' %}bs
                                        {{ pageimage.startbar }}-{{ pageimage.endbar }}{% endif %} </div>
                            </li>
                            <!-- TODO: Bar Ids? -->
                            {% if prev %}
                                <li>
                                    <div class="menu-item"><a href="/{{ mode|lower }}/ui/pageview/{{ prev.id }}/"
                                                              class="ctrl prev"><span
                                            class="fa fa-caret-left"></span></a></div>
                                </li>
                            {% endif %}
                            {% if next %}
                                <li>
                                    <div class="menu-item"><a
                                            href="/{{ mode|lower }}/ui/pageview/{{ next.id }}/"
                                            class="ctrl next"><span class="fa fa-caret-right"></span></a></div>
                                </li>
                            {% endif %}
                            <li>
                                <div class="menu-item">
                                    <a href="#" data-dropdown="available-sources">Quick Bar</a>
                                    <ul id="available-sources" class="f-dropdown" data-dropdown-content="">
                                        {% for row in allBars.fetchall %}
                                            <li><a href="/{{ mode|lower }}/ui/pageview/{{ row.1 }}/">{{ row.0 }}</a>
                                            </li>
                                        {% endfor %}

                                    </ul>
                                </div>
                            </li>


                            <li>
                                <div class="menu-item">
                                    <a href="/{{ mode|lower }}/ui">Back to results</a>
                                </div>
                            </li>
                           {% if mode == 'CFEO' %}

                            <li>
                                <div class="menu-item">
                                    <a href="#" class="cfeo-add-to-compare">Add To Compare</a>
                                </div>
                            </li>
                            {% endif %}
                        </ul>


                    </section>

                </nav>

                <div class="row add-to-compare-bar" data-page-id="{{pageimage.id}}">
                    <div class="large-6 columns ">
                     <a href="#" data-cookie="left" data-page-id="{{pageimage.id}}">Compare on Left</a>
                    </div>
                   <div class="large-6 columns ">
                     <a href="#" data-cookie="right" data-page-id="{{pageimage.id}}">Compare on Right</a>
                    </div>

                </div>

                <div class="row add-to-compare-notification">
                   <div class="large-12 columns ">
                        <span class="alert-box success">Added to comparison.</span>
                    </div>
                </div>


                <div class="row">
                    <div id="pageimage" class="large-6 columns">
                            <img src="{{ IIP_URL }}?FIF={{ pageimage.getJP2Path }}&CVT=JPG" height="800"
                                 width="600" id="image_one"
                                 class="osd-iip">
                    </div>


                </div>

            </div>

            <div class="row">
                <div class="large-12 columns">

                    <div class="thumbnail-carousel">
                        <b class="divider"></b>
                        {% for p in pageimages %}
                            <div>
                                <div class="carousel-image">
                                    <a class="pageView thumb"
                                       href="/{{ mode|lower }}/ui/pageview/{{ p.id }}">
                                        <img border align="0"
                                             src="{{ IIP_URL }}?DeepZoom={{ p.getJP2Path }}_files/0/0_0.jpg"
                                             class="lazy thumbnail"/></a>
                    <span class="page-label">{{ p.page.label }} {% if p.startbar != '0' or p.endbar != '0' %}bs
                        {{ p.startbar }}-{{ p.endbar }}{% endif %}</span>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

            </div>

    </section>

{% endblock %}

{% block footer %}
    {{ block.super }}
{% endblock %}